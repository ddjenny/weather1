<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Today's Weather</title>
    <!-- css link -->
    <link rel="stylesheet" href="./天氣卡片.css">
</head>
<body>
  <div id="text">
  <svg class="sunny" viewbox="15 15 70 70">
      <circle id="sun" cx="50" cy="50" r="20">
          <animateTransform dur="5s" attributeName="transform" repeatCount="indefinite" type="rotate" from="0,50,50"
              to="360,50,50" />
      </circle>
  </svg>
  <svg class="cloudy_sunny" viewbox="0 -5 100 100">
      <circle id="sun" cx="60" cy="40" r="15">
          <animateTransform dur="5s" attributeName="transform" repeatCount="indefinite" type="rotate" from="0,60,40"
              to="360,60,40" />
      </circle>
      <g id="cloud">
          <circle cx="32" cy="35" r="15"></circle>
          <circle cx="50" cy="40" r="14"></circle>
          <rect width="70" height="30" x="5" y="35" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="-5,10;10,10;-5,10" dur="2s"
              repeatCount="indefinite" />
      </g>
  </svg>
  <svg class="cloudy" viewbox="0 0 100 100">
      <g id="cloud">
          <circle cx="37" cy="40" r="15"></circle>
          <circle cx="55" cy="45" r="14"></circle>
          <rect width="70" height="30" x="10" y="40" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="10,0;-5,0;10,0" dur="2s"
              repeatCount="indefinite" />
      </g>
      <g id="cloud2">
          <circle cx="32" cy="35" r="13"></circle>
          <circle cx="50" cy="40" r="12"></circle>
          <rect width="70" height="30" x="5" y="40" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="-5,20;10,20;-5,20" dur="2s"
              repeatCount="indefinite" />
      </g>
      <animateTransform attributeName="transform" dur="0.1s" type="scale" values="1.5"/>
  </svg>
  <svg class="overcast" viewbox="0 0 100 100">
      <g id="overcast_cloud">
          <circle cx="37" cy="40" r="15"></circle>
          <circle cx="55" cy="45" r="14"></circle>
          <rect width="70" height="30" x="10" y="40" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="10,0;-5,0;10,0" dur="2s"
              repeatCount="indefinite" />
      </g>
      <g id="overcast_cloud2">
          <circle cx="32" cy="35" r="13"></circle>
          <circle cx="50" cy="40" r="12"></circle>
          <rect width="70" height="30" x="5" y="40" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="-5,20;10,20;-5,20" dur="2s"
              repeatCount="indefinite" />
      </g>
  </svg>
  <svg class="rainy" viewbox="0 10 100 100">
      <g id="rain">
          <rect width="2" height="7" x="45" y="60" rx="1">
              <animateTransform dur="1.5s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,10,50;30,-150,-20" />
          </rect>
          <rect width="2" height="7" x="60" y="60" rx="1">
              <animateTransform dur="1.8s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,50,50;30,-150,-20" />
          </rect>
          <rect width="2" height="7" x="75" y="55" rx="1">
              <animateTransform dur="1.3s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,50,60;30,-150,-20" />
          </rect>
          <rect width="2" height="7" x="65" y="45" rx="1">
              <animateTransform dur="1.2s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,50,60;30,-150,-20" />
          </rect>
          <animateTransform link attributeName="transform" type="translate" values="-5,-5;10,0;-5,-5" dur="2s"
              repeatCount="indefinite" />
      </g>
      <g id="overcast_cloud">
          <circle cx="37" cy="40" r="15"></circle>
          <circle cx="55" cy="45" r="14"></circle>
          <rect width="70" height="30" x="10" y="40" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="10,0;-5,0;10,0" dur="2s"
              repeatCount="indefinite" />
      </g>
      <g id="overcast_cloud2">
          <circle cx="32" cy="35" r="13"></circle>
          <circle cx="50" cy="40" r="12"></circle>
          <rect width="70" height="30" x="5" y="40" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="-5,15;10,15;-5,15" dur="2s"
              repeatCount="indefinite" />
      </g>
  </svg>
  <svg class="rainy_thunder" viewbox="0 10 100 100">
      <g id="rain">
          <rect width="2" height="7" x="45" y="60" rx="1">
              <animateTransform dur="0.6s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,10,50;30,-150,-20" />
          </rect>
          <rect width="2" height="7" x="60" y="60" rx="1">
              <animateTransform dur="0.8s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,50,50;30,-150,-20" />
          </rect>
          <rect width="2" height="7" x="75" y="55" rx="1">
              <animateTransform dur="0.7s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,50,60;30,-150,-20" />
          </rect>
          <rect width="2" height="7" x="65" y="45" rx="1">
              <animateTransform dur="0.5s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,50,60;30,-150,-20" />
          </rect>
          <animateTransform link attributeName="transform" type="translate" values="-5,-5;10,0;-5,-5" dur="2s"
              repeatCount="indefinite" />
      </g>
      <g>
          <polyline id="thunder" points="50,38 46,50 52,50 50,60 56,47 50,47 50,38">
              <animateTransform dur="2.5s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="30,50,60;30,-150,-20" />
          </polyline>
          <polyline id="thunder" points="50,38 46,50 52,50 50,60 56,47 50,47 50,38">
              <animateTransform dur="3s" attributeName="transform" repeatCount="indefinite" type="rotate"
                  values="10,60,100;-100,200,10" />
          </polyline>
      </g>
      <g id="overcast_cloud">
          <circle cx="37" cy="40" r="15"></circle>
          <circle cx="55" cy="45" r="14"></circle>
          <rect width="70" height="30" x="10" y="40" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="10,0;-5,0;10,0" dur="2s"
              repeatCount="indefinite" />
      </g>
      <g id="overcast_cloud2">
          <circle cx="32" cy="35" r="13"></circle>
          <circle cx="50" cy="40" r="12"></circle>
          <rect width="70" height="30" x="5" y="40" rx="15"></rect>
          <animateTransform attributeName="transform" type="translate" values="-5,15;10,15;-5,15" dur="2s"
              repeatCount="indefinite" />
      </g>
  </svg>
</div>



<section class="hero-section ">
  <div class="card-grid container">
    <a class="card" href="#">
      <div class="card__background img" style="background-image: url()"></div>
      <div class="card__content">
        <h1 class="tittle">地點</h1>
        <h3 class="card__heading content high">高溫</h3>
        <h3 class="card__heading content low">低溫</h3>
        <h3 class="card__heading content rain">降雨機率</h3>
        <p class="card__category date">狀態</p>
      </div>
    </a>
  <div>
</section>



<script>
    const containerElement = document.querySelector('.container');
    // function renderList(data){
    //     let wx = '';
    //     let sunny = [1, 24];
    //     let cloudy_sunny = [2,3,25,26];
    //     let cloudy = [4,27];
    //     let overcast = [5,6,7,28];
    //     let rainy = [8,9,10,11,12,13,14,19,20,23,29,30,31,32,37,38,39];
    //     let rainy_thunder = [15,16,17,18,21,22,33,34,36,41];
    //     data.forEach((element, index) => {
    //     console.log(index);
    //     console.log(element);
    //     console.log(Southern.find(e => e == index));
    //     if (sunny.find(e => e == index) {
    //       wx = 'sunny'
    //     } else if (cloudy_sunny.find(e => e == index)) {
    //       area = 'cloudy_sunny'
    //     } else if (cloudy.find(e => e == index)) {
    //       area = 'cloudy'
    //     }else if (overcast.find(e => e == index)) {
    //       area = 'overcast'
    //     }else if (rainy.find(e => e == index)) {
    //       area = 'rainy'
    //     } else {
    //       area = 'rainy_thunder'
    //     })})}

    let cards = ''; 
    let url = 'https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-C0032-001?Authorization=CWB-81996DE4-1B9B-4FBE-9569-40A7FA0D36FB&elementName=';
    
    // 發送GET請求
    fetch(url)
    .then(function (response){
        return response.json();
    })
    .then(function (data){
        // let wx = data['records']['location']['0']['weatherElement']['0']['time']['0']['parameter']['parameterValue'];
        // let wx = '';

      let location = data['records']['location'];
      for(let i = 0 ; i < 22 ; i++){
          cards += `      
          <a class="card" href="#">
            <div class="card__background img" style="background-image: url(${location[i].weatherElement[0].time[0].parameter.parameterValue})">
                </div>
                <div class="card__content">
                    <h1 class="tittle">${location[i].locationName}</h1>
                    <h3 class="card__heading content high">最高:${location[i].weatherElement[4].time[0].parameter.parameterName}度</h3>
                    <h3 class="card__heading content low">最低:${location[i].weatherElement[2].time[0].parameter.parameterName}度</h3>
                    <h3 class="card__heading content rain">降雨機率:${location[i].weatherElement[1].time[0].parameter.parameterName}%</h3>
                    <p class="card__category date">${location[i].weatherElement[0].time[0].parameter.parameterName}</p>
                    </div>
                    </a>`;
                }
                containerElement.innerHTML = cards;
      });
</script>

</body>
</html>